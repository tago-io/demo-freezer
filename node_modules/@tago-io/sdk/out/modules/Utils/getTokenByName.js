"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 * @param account Account instance
 * @param deviceID Id of device
 * @param names Array of names of the token, if null will return the first token found
 */
async function getTokenByName(Account, deviceID, names) {
    var _a;
    const tokens = await Account.devices.tokenList(deviceID);
    if (!tokens || !tokens[0]) {
        return null;
    }
    if (!names || !names.length) {
        return (_a = tokens[0]) === null || _a === void 0 ? void 0 : _a.token;
    }
    const namesArray = Array.isArray(names) ? names : [names];
    const token = tokens.find((t) => namesArray.some((n) => t.name.includes(n)));
    if (!token) {
        throw `Can't find Token for ${deviceID} in ${namesArray.join(", ")}`;
    }
    return token.token;
}
exports.default = getTokenByName;
//# sourceMappingURL=getTokenByName.js.map